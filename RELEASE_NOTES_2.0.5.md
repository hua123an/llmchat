# ChatLLM v2.0.5 发布说明

## 🎨 新增功能

### 胜算云文生图集成
- **完整集成**：支持胜算云图像生成服务，兼容OpenAI SDK
- **独立配置系统**：专门的API密钥和服务地址管理界面
- **智能重试机制**：503/429错误自动重试最多3次，使用递增延迟策略
- **专业调试工具**：高级调试对话框，支持分步连接测试和详细日志
- **详细错误诊断**：针对性错误提示和解决建议

### 胜算云搜索功能
- **联网搜索**：支持实时网页搜索功能
- **思考模式**：深度思考和分析能力
- **搜索建议**：智能搜索建议功能
- **完整集成**：与现有聊天系统无缝集成

## 🔧 体验改进

### 图像生成优化
- **自动重试**：服务暂时不可用时自动重试，无需手动操作
- **进度提示**：实时显示重试进度和剩余时间
- **用户引导**：配置面板添加使用提示和服务状态说明
- **错误展示**：延长重要错误信息显示时间，确保用户看到解决建议

### 调试工具
- **专业调试**：新增API调试组件，支持连接测试和日志分析
- **分步测试**：基础连接、模型列表、图像生成分步测试
- **详细日志**：完整的请求响应日志，便于问题排查

## 🐛 问题修复

### API密钥管理
- **检测机制**：解决胜算云API密钥检测和验证问题
- **保存机制**：改进API密钥的安全保存和加载
- **配置持久化**：优化配置数据的持久化存储

### 技术修复
- **动态导入**：修复Electron环境下的模块导入问题
- **类型安全**：改进TypeScript类型定义和检查
- **错误处理**：增强错误捕获和处理机制

## 📚 文档更新

- 新增胜算云503错误排查指南
- 完善API集成文档和使用说明
- 更新配置指南和最佳实践

## 🚀 使用建议

### 胜算云文生图
1. 打开AI绘图工作室
2. 配置"🎨 胜算云文生图"面板
3. 输入API密钥和服务地址
4. 点击"🔍 测试连接"验证配置
5. 开始生成图像

### 错误处理
- 遇到503错误时，系统会自动重试3次
- 如果持续失败，请等待5-10分钟后重试
- 可以使用"🔧 高级调试"工具排查问题

## 🔄 升级说明

此版本向后兼容，可以直接升级，无需额外配置。

---

感谢您使用 ChatLLM！如有问题，请访问 [GitHub Issues](https://github.com/hua123an/llmchat/issues) 反馈。
